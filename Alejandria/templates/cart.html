<!DOCTYPE html>

{% extends "navbar.html" %}
{% load static %}

{% block content %}

<html lang="en">
<!--    Css Files for this page     -->
<link rel="stylesheet" href="{% static 'css/card.css' %}">
<link rel="stylesheet" href="{% static 'css/cart-page/body.css' %}">
<link rel="stylesheet" href="{% static 'css/cart-page/buttons.css' %}">
<link rel="stylesheet" href="{% static 'css/cart-page/card.css' %}">
</html>

<body style="background-color:black">

<!-- Full Body -->
<div class="container-fluid">
    <div class="row" style="margin-right:0%;margin-left:2%">

        <!-- Left Body -->
        <div class="col-9 body-structure">
            <p class="title" style="padding-top:3%">MY PURCHASE</p>

            <div class="row">
                <div class="col-11"
                     style="height:800px; overflow:auto; border-color: #d9534f; box-shadow: 0 0 4px 2px #d9534f;"
                     id="container-info-books">

                    {% for product in cart_list %}
                    <div class="info-book">
                        {% if product.ISBN.thumbnail %}
                        <img class="book-cover" src="{{ product.ISBN.thumbnail.url }}" alt="Card image cap">
                        <!--TODO: Change to real book image -->
                        {% else %}
                        <img class="book-cover" src="{% static 'no_available.jpg' %}" alt="Card image cap">
                        {% endif %}
                        <div style="margin-left:1%;">
                            <div class="row horizontal">
                                <div class="col-md-8">
                                    <p class="book-title"><a href="#">{{ product.ISBN.title }}, {{ product.ISBN.author }}</a></p>
                                </div>
                                <div class="col">
                                    <p class="text" style="text-align:right;"><span>{{ product.price }}</span>€</p>
                                </div>
                            </div>
                            <hr>
                            <hr>
                            <span class="score">
                                <div class="score-wrap">
                                    <span class="stars-active" style="width:80%">
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                    </span>

                                    <span class="stars-inactive">
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </span>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input">
                                <label class="custom-control-label" for="gift_checkbox1" style="color:white">This is a
                                    gift</label>
                            </div>
                            <hr>
                            <p class="reviews"><a href="#" style="color:white">Reviews <span class="badge badge-light"
                                                                                             style="font-size:0.7em">15</span></a>
                            </p>
                            <hr>
                            <a class="btn btn-outline-danger my-2 my-sm-0"
                               href="{% url 'books:delete_product' product.ID %}">Delete</a>

                            <div style="padding-bottom:15%"></div>
                        </div>
                    </div>
                    {% endfor %}

                    <div class="info-book" id="info_book_1">
                        <img class="book-cover" src="/static/images/cover-images/book_cover.jpg" alt="Card image cap">
                        <div style="margin-left:1%;">
                            <div class="row horizontal">
                                <div class="col-md-8">
                                    <p class="book-title"><a href="#">DON'T DELETE used as test material</a></p>
                                </div>
                                <div class="col">
                                    <p class="text" style="text-align:right;"><span
                                            id="price_book_1">24.95</span>€</p>
                                </div>
                            </div>
                            <p class="price" id="original_price_1">24.95€</p>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="gift_checkbox1">
                                <label class="custom-control-label" for="gift_checkbox1" style="color:white">This is a
                                    gift</label>
                            </div>
                            <span class="score">
                                <div class="score-wrap">
                                    <span class="stars-active" style="width:80%">
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                        <i class="fa fa-star" aria-hidden="true"></i>
                                    </span>

                                    <span class="stars-inactive">
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                        <i class="fa fa-star-o" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </span>
                            <p class="reviews"><a href="#" style="color:white">Reviews <span class="badge badge-light"
                                                                                             style="font-size:0.7em">15</span></a>
                            </p>
                            <div class="dropdown">
                                <label style="color:white">Quantity</label>
                                <select class="selectpicker btn-drop m1"
                                        style="color:white; font-size: 14px; width:60px;" id="selectItems1"
                                        onclick="update_quantity()">
                                    <option class="btn btn-dark btn-drop" style="background-color:black">1</option>
                                    <option class="btn btn-dark btn-drop" style="background-color:black">2</option>
                                    <option class="btn btn-dark btn-drop" style="background-color:black">3</option>
                                    <option class="btn btn-dark btn-drop" style="background-color:black">4</option>
                                    <option class="btn btn-dark btn-drop" style="background-color:black">5</option>
                                </select>
                            </div>
                            <button class="btn btn-outline-danger my-2 my-sm-0" onclick="dlt_books_btn(this,)"
                                    type="submit">
                                Delete
                            </button>
                            <div style="padding-bottom:15%"></div>
                        </div>
                    </div>

                </div>

            </div>

            <!-- List of Recommendations -->
            <div style="margin-top:10%;"></div>
            <div class="text" style="margin-left: 5%; margin-bottom: 2%">Related of books you have viewed</div>


            <div id="multi-item-example" class="carousel slide carousel-multi-item" data-ride="carousel">

                <!--Slides-->
                <div class="carousel-inner" role="listbox">

                    <div class="row align-items-center">

                        <div class="col-md-2" style="margin-left:5%;">
                            <!-- Button left -->
                            <button class="btn btn-outline-light leftLst" href="#multi-item-example" data-slide="prev">
                                <i class="fas fa-chevron-left fa-7x"></i></button>
                            <!-- ./Button left -->
                        </div>

                        <div class="col">
                            <!--First slide-->
                            <div class="carousel-item active">
                                <div class="row">
                                    {% for book in books_from_cart_view_1 %}
                                    <div class="col-md-4">
                                        <div class="card mb-2">
                                            <div class="card" style="width: 11rem;">
                                                {% if book.thumbnail %}
                                                <img class="card-img-top" src="{{ book.thumbnail.url }}"
                                                     alt="Card image cap"> <!--TODO: Change to real book image -->
                                                {% else %}
                                                <img class="card-img-top" src="{% static 'no_available.jpg' %}"
                                                     alt="Card image cap">
                                                {% endif %}
                                                <div class="card-body"
                                                     style="background-color:black;border:1px solid white;">
                                                    <h5 class="book-title" style="padding-top:15px">{{ book.title
                                                        }}</h5>
                                                    <p class="text-card" style="font-size: 14px; color:white">{{
                                                        book.author }}</p>

                                                    <p class="text-card" style="font-size: 14px; color:white">{{
                                                        book.price }}€</p>

                                                    <button class="btn btn-success"
                                                            onclick="createInfoBook('info_book', 'price_book', 'original_price', 'gift', 'quantity_book', 'button_rmv', 'button_add', 'Patria' , 'Fernando Aramburu', 62, 'https://imagessl6.casadellibro.com/a/l/t5/16/9788490667316.jpg', 24.95)">
                                                        Add to cart
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>


                            <!-- ./First slide -->

                            <!-- Second slide -->

                            <div class="carousel-item">
                                <div class="row">
                                    {% for book in books_from_cart_view_2 %}
                                    <div class="col-md-4">
                                        <div class="card mb-2">
                                            <div class="card" style="width: 11rem;">
                                                {% if book.thumbnail %}
                                                <img class="card-img-top" src="{{ book.thumbnail.url }}"
                                                     alt="Card image cap"> <!--TODO: Change to real book image -->
                                                {% else %}
                                                <img class="card-img-top" src="{% static 'no_available.jpg' %}"
                                                     alt="Card image cap">
                                                {% endif %}
                                                <div class="card-body"
                                                     style="background-color:black;border:1px solid white;">
                                                    <h5 class="book-title" style="padding-top:15px">{{ book.title
                                                        }}</h5>
                                                    <p class="text-card" style="font-size: 14px; color:white">{{
                                                        book.author }}</p>

                                                    <p class="text-card" style="font-size: 14px; color:white">{{
                                                        book.price }}€</p>

                                                    <button class="btn btn-success"
                                                            onclick="createInfoBook('info_book', 'price_book', 'original_price', 'gift', 'quantity_book', 'button_rmv', 'button_add', 'Patria' , 'Fernando Aramburu', 62, 'https://imagessl6.casadellibro.com/a/l/t5/16/9788490667316.jpg', 24.95)">
                                                        Add to cart
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>

                            <!-- ./Second slide -->

                            <!-- Third slide -->
                            <div class="carousel-item">
                                <div class="row">
                                    {% for book in books_from_cart_view_3 %}

                                    <div class="col-md-4">
                                        <div class="card mb-2">
                                            <div class="card" style="width: 11rem;">
                                                {% if book.thumbnail %}
                                                <img class="card-img-top" src="{{ book.thumbnail.url }}"
                                                     alt="Card image cap"> <!--TODO: Change to real book image -->
                                                {% else %}
                                                <img class="card-img-top" src="{% static 'no_available.jpg' %}"
                                                     alt="Card image cap">
                                                {% endif %}
                                                <div class="card-body"
                                                     style="background-color:black;border:1px solid white;">
                                                    <h5 class="book-title" style="padding-top:15px">{{ book.title
                                                        }}</h5>
                                                    <p class="text-card" style="font-size: 14px; color:white">{{
                                                        book.author }}</p>

                                                    <p class="text-card" style="font-size: 14px; color:white">{{
                                                        book.price }}€</p>

                                                    <button class="btn btn-success"
                                                            onclick="createInfoBook('info_book', 'price_book', 'original_price', 'gift', 'quantity_book', 'button_rmv', 'button_add', 'Patria' , 'Fernando Aramburu', 62, 'https://imagessl6.casadellibro.com/a/l/t5/16/9788490667316.jpg', 24.95)">
                                                        Add to cart
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>

                            <!-- ./Third slide -->
                        </div>

                        <div class="col-md-2" style="align:center">
                            <!-- Button Right -->
                            <button class="btn btn-outline-light rightLst" href="#multi-item-example" data-slide="next">
                                <i class="fas fa-chevron-right fa-7x"></i></button>
                            <!-- ./Button Right -->
                        </div>
                    </div>

                </div>
            </div>

            <!--Bottom of the page-->
            <div style="margin-top:5%; padding-bottom:5%; width:100%; text-align: center;">
                <button class="btn btn-success my-2 my-sm-0"
                        style="width:200px;"
                        type="submit"
                        id="btn_purchase"
                >Complete purchase
                </button>
                <p class="text" style="font-size:12px">New client? &nbsp;<a href="#">Register here</a></p>
            </div>
            <!-- ./Bottom of the page -->

        </div>
        <!-- ./Left Body -->

        <!-- Right Body -->
        <div class="col">

            <!-- Total Payment -->
            <div class="info-box" style="border-color: #d9534f; box-shadow: 0 0 2px 1px #d9534f;">

                <div class="row">
                    <div class="col" style="margin-left:4%">
                        <div class="text" style="font-size:20px">Subtotal&nbsp;(<span id="subtotal_products">{{ total_items }}
                                </span>&nbsp;<span id="items">items</span>)
                        </div>
                    </div>

                    <div class="col-4">
                        <span class="text" style="font-size:20px" id="priceSubtotal">{{ total_price }}€</span>
                    </div>
                </div>

                <div class="custom-control custom-checkbox" style="margin-left:4%; margin-bottom: 3%">
                    <input type="checkbox" class="custom-control-input" id="gift_checkbox_subtotal">
                    <label class="custom-control-label" for="gift_checkbox_subtotal" style="color:white">This order
                        contains a
                        gift</label>
                </div>

                <div style="text-align: center; margin-bottom:2%">
                    <button class="btn btn-success my-2 my-sm-0"
                            style="width:80%;"
                            type="submit"
                            id="btn_checkout"
                    >Proceed to Checkout
                    </button>
                </div>
            </div>
            <!-- ./Total Payment -->

            <!-- List of books -->
            <div class="info-box">

                <div class="text" style="margin-left:4%; font-size: 16px">Users who bought books like yours also
                    liked
                    these ones
                </div>


                <div class="row" style="margin-left: 1%; margin-top:3%" id="container1">

                    {% for book in books_from_cart_view %}

                    <div class="col-md-5" style="margin-top:5%">
                        {% if book.thumbnail %}
                        <img class="card-img-top" src="{{ book.thumbnail.url }}" alt="Card image cap">
                        <!--TODO: Change to real book image -->
                        {% else %}
                        <img class="card-img-top" src="{% static 'no_available.jpg' %}" alt="Card image cap">
                        {% endif %}
                    </div>

                    <div class="col" style="margin-left:-6%; margin-top:5%">
                        <p class="book-title" style="font-size:16px"><a href="#">{{ book.title }}, {{ book.author }}
                        </a></p>

                        <span class="score" style="margin-top:-5%">
                            <div class="score-wrap">
                                <span class="stars-active" style="width:72%">
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                </span>

                                <span class="stars-inactive">
                                    <i class="fa fa-star-o" aria-hidden="true"></i>
                                    <i class="fa fa-star-o" aria-hidden="true"></i>
                                    <i class="fa fa-star-o" aria-hidden="true"></i>
                                    <i class="fa fa-star-o" aria-hidden="true"></i>
                                    <i class="fa fa-star-o" aria-hidden="true"></i>
                                </span>
                            </div>
                        </span>

                        <p class="text" style="font-size: 14px">{{ book.price }}€</p>

                        <a href="{% url 'books:add_product' 'cart' book.ISBN %}" style="margin-top:-5%"
                           class="btn btn-success">Add to cart</a>


                    </div>
                    {% endfor %}
                </div>
            </div>
            <!-- ./List of books -->

        </div>
        <!-- ./Right Body -->

    </div>

</div>
<!-- ./Full Body -->


<!-- JavaScript files from static folder -->
<script src="/static/js/cart-page/operateBooks.js"></script>
<script src="/static/js/cart-page/stars.js"></script>
<script src="/static/js/cart-page/info-book.js"></script>
<script src="/static/js/cart-page/navigation.js"></script>
<!-- ./JavaScript files from static folder -->

</body>
{% endblock %}
